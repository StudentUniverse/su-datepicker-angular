/**
* @license StudentUniverse su-datepicker 0.0.1
* (c) 2016 StudentUniverse https://www.studentuniverse.com
* License: ISC
**/
!function(){"use strict";function a(a){return{compile:function(b,c){var d="su-datepicker-cheap-event",e=c[c.$normalize(d)],f=d+"-"+e,g=a(c[c.$normalize(f)]);return function(a,b){b.on(e,function(b){g(a,{$event:b})})}}}}function b(a){var b=a("date");return{restrict:"A",require:"ngModel",link:function(a,c,d,e){var f=d.suDatepickerDateParser||"yyyy-MM-dd";e.$formatters.push(function(a){return b(a,f)})}}}function c(a){return{restrict:"E",template:"<button></button>",link:function(b,c,d){var e=d.clickCallback,f=e&&a(e),g=b[d.date];g&&(c.find("button").text(b.day.getDate()),e&&c.on("click",function(a){f(b,{date:g})}))}}}function d(a){var b=a("suTimeNeutralDateCompare");return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"su.datepicker.templates.suDatepickerDefaultTemplate"},scope:{date:"=",isDateDisabled:"&",selectDate:"&",cheapMouseenterCallback:"&",customClass:"&",previousMonthDisabled:"&",nextMonthDisabled:"&"},link:function(a,c,d){if(!d.hasOwnProperty("date"))throw"su.datepicker.directives.suDatepickerDefault: name attribute is required";var e,f=new Date;if(a.currentDate=n.copyDateOnly(a.date||new Date),d.hasOwnProperty("isDateDisabled")){var g=a.isDateDisabled;a.isDateDisabled=function(a){return g({date:a})}}else a.isDateDisabled=function(a){return d.hasOwnProperty(d.$normalize("disable-past"))?-1===b(a,f):!1};if(a.moveMonth=function(b){a.currentDate=n.changeMonth(a.currentDate,b)},d.hasOwnProperty("selectDate")){var h=a.selectDate;a.selectDate=function(a){return h({date:a})}}else a.selectDate=function(b){a.date=b};a.getDateClass=function(b){if(d.hasOwnProperty("customClass"))return a.customClass({date:b});if(angular.isDate(b)&&angular.isDate(a.date)){if(a.date.getFullYear()===b.getFullYear()&&a.date.getMonth()===b.getMonth()&&a.date.getDate()===b.getDate())return"active-date";if(e&&e.getFullYear()===b.getFullYear()&&e.getMonth()===b.getMonth()&&e.getDate()===b.getDate())return"potential-date"}},a.setPotentialDate=function(b){return d.hasOwnProperty("cheapMouseenterCallback")?a.cheapMouseenterCallback({date:b}):void(angular.isDate(b)&&(e=b,a.$digest()))}}}}function e(){return{restrict:"E",scope:{date:"=",clickCallback:"&",dateDisabled:"&",customClass:"&",cheapMouseenterCallback:"&"},templateUrl:function(a,b){return b.templateUrl||"su.datepicker.templates.suDatepickerMonthDefaultTemplate"}}}function f(){return{restrict:"E",transclude:!0,scope:{date:"="},link:function(a,b,c,d,e){function f(b){a.weeks.length=0;var c=a.weeks,d=!0,e=0;return b.forEach(function(a){var b=a.getDay();(d||0===b)&&(c[e]=new Array(7),e++,d=!1),c[e-1][b]=a}),c}a.weeks=[],e(function(c,d){d.weeks=a.weeks,b.append(c)}),a.$watch("date",function(a){if(angular.isDate(a)){var b=n.getMonthDates(a.getFullYear(),a.getMonth());f(b)}})}}}function g(a){var b=a("suTimeNeutralDateCompare");return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"su.datepicker.templates.suDatepickerRangeDefaultTemplate"},scope:{startDate:"=",isDateDisabled:"&",onDateSelect:"&",cheapMouseenterCallback:"&",customClass:"&",previousMonthDisabled:"&",nextMonthDisabled:"&"},link:function(a,c,d){if(!d.hasOwnProperty("startDate"))throw"su.datepicker.directives.suDatepickerRangeDefault: start-date attribute is required";var e=new Date;if(a.currentDateOne=n.copyDateOnly(a.startDate||new Date),a.currentDateTwo=n.changeMonth(a.currentDateOne,1),d.hasOwnProperty("isDateDisabled")){var f=a.isDateDisabled;a.isDateDisabled=function(a){return f({date:a})}}else a.isDateDisabled=function(a){return d.hasOwnProperty(d.$normalize("disable-past"))?-1===b(a,e):!1};a.moveMonth=function(b){a.currentDateOne=n.changeMonth(a.currentDateOne,b),a.currentDateTwo=n.changeMonth(a.currentDateOne,1)}}}}function h(){var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(b){return"number"==typeof b&&b>=0&&12>b?a[b]:void 0}}function i(){return function(a,b){return angular.isDate(a)&&angular.isDate(b)?a.getFullYear()===b.getFullYear()?a.getMonth()===b.getMonth()?a.getDate()===b.getDate()?0:a.getDate()<b.getDate()?-1:1:a.getMonth()<b.getMonth()?-1:1:a.getFullYear()<b.getFullYear()?-1:1:void 0}}function j(a,b){var c=[];if("number"==typeof a&&"number"==typeof b)for(var d=m(a,b+1),e=1;d>=e;e++)c.push(new Date(a,b,e));return c}function k(a){var b=new Date(a);return b.setHours(0,0,0,0),b}function l(a,b){var c=k(a);return c.setDate(1),c.setMonth(c.getMonth()+b),c}function m(a,b){return new Date(a,b,0).getDate()}angular.module("su.datepicker.directives.suDatepickerCheapEventDirective",[]).directive("suDatepickerCheapEvent",a),a.$inject=["$parse"],angular.module("su.datepicker.directives.suDatepickerDateParserDirective",[]).directive("suDatepickerDateParser",b),b.$inject=["$filter"],angular.module("su.datepicker.directives.suDatepickerDayDirective",[]).directive("suDatepickerDay",c),c.$inject=["$parse"],angular.module("su.datepicker.directives.suDatepickerDefaultDirective",["su.datepicker.filters.suTimeNeutralDateCompareFilter"]).directive("suDatepickerDefault",d),d.$inject=["$filter"],angular.module("su.datepicker.directives.suDatepickerDirectivesModule",["su.datepicker.directives.suDatepickerCheapEventDirective","su.datepicker.directives.suDatepickerDateParserDirective","su.datepicker.directives.suDatepickerDayDirective","su.datepicker.directives.suDatepickerDefaultDirective","su.datepicker.directives.suDatepickerMonthDefaultDirective","su.datepicker.directives.suDatepickerMonthDirective","su.datepicker.directives.suDatepickerRangeDefaultDirective"]),angular.module("su.datepicker.directives.suDatepickerMonthDefaultDirective",[]).directive("suDatepickerMonthDefault",e),e.$inject=[],angular.module("su.datepicker.directives.suDatepickerMonthDirective",[]).directive("suDatepickerMonth",f),f.$inject=[],angular.module("su.datepicker.directives.suDatepickerRangeDefaultDirective",[]).directive("suDatepickerRangeDefault",g),g.$inject=["$filter"],angular.module("su.datepicker.filters.suDatepickerFiltersModule",["su.datepicker.filters.suDatepickerMonthTextFilter","su.datepicker.filters.suTimeNeutralDateCompareFilter"]),angular.module("su.datepicker.filters.suDatepickerMonthTextFilter",[]).filter("suDatepickerMonthText",h),angular.module("su.datepicker.filters.suTimeNeutralDateCompareFilter",[]).filter("suTimeNeutralDateCompare",i),i.$inject=[],angular.module("su.datepicker",["su.datepicker.directives.suDatepickerDirectivesModule","su.datepicker.filters.suDatepickerFiltersModule","su.datepicker.templates.suDatepickerTemplatesModule"]);var n={getMonthDates:j,copyDateOnly:k,changeMonth:l};angular.module("su.datepicker.templates.suDatepickerTemplatesModule",["su.datepicker.templates.suDatepickerDayTemplate","su.datepicker.templates.suDatepickerDefaultTemplate","su.datepicker.templates.suDatepickerMonthDefaultTemplate","su.datepicker.templates.suDatepickerRangeDefaultTemplate"]),angular.module("su.datepicker.templates.suDatepickerDayTemplate",[]).run(["$templateCache",function(a){a.put("su.datepicker.templates.suDatepickerDayTemplate",'<button class="3datepicker-day btn btn-default btn-sm" ng-if=day style="width: 100%" su-cheap-event=mouseenter su-cheap-event-mouseenter="mouseenterCallback({date: day})" ng-disabled=dateDisabled(day)></button>')}]),angular.module("su.datepicker.templates.suDatepickerDefaultTemplate",[]).run(["$templateCache",function(a){a.put("su.datepicker.templates.suDatepickerDefaultTemplate",'<div class=calendar-table><div class=container-fluid><div class=row><div class=col-xs-4><button class="btn btn-xs btn-primary previous" ng-click=moveMonth(-1) ng-disabled="previousMonthDisabled({currentDate: currentDate})">Previous</button></div><div class="col-xs-4 text-center"><strong>{{currentDate.getMonth() | suDatepickerMonthText}}</strong></div><div class="col-xs-4 text-right"><button class="btn btn-xs btn-primary next" ng-click=moveMonth(1) ng-disabled="nextMonthDisabled({currentDate: currentDate})">Next</button></div></div></div><su-datepicker-month-default date=currentDate click-callback=selectDate(date) date-disabled=isDateDisabled(date) custom-class=getDateClass(date) cheap-mouseenter-callback=setPotentialDate(date)></su-datepicker-month-default></div>')}]),angular.module("su.datepicker.templates.suDatepickerMonthDefaultTemplate",[]).run(["$templateCache",function(a){a.put("su.datepicker.templates.suDatepickerMonthDefaultTemplate",'<su-datepicker-month date=date><table><thead><tr><th class=text-center>Sun</th><th class=text-center>Mon</th><th class=text-center>Tue</th><th class=text-center>Wed</th><th class=text-center>Thu</th><th class=text-center>Fri</th><th class=text-center>Sat</th></tr></thead><tbody><tr ng-repeat="week in weeks track by $index"><td ng-repeat="day in week track by $index" ng-class="customClass({date: day})" class=text-center><button class="btn btn-default btn-sm" ng-if=day style="width: 100%" ng-click="clickCallback({date: day})" su-datepicker-cheap-event=mouseenter su-datepicker-cheap-event-mouseenter="cheapMouseenterCallback({date: day})" ng-disabled="dateDisabled({date: day})" ng-bind=day.getDate()></button></td></tr></tbody></table></su-datepicker-month>')}]),angular.module("su.datepicker.templates.suDatepickerRangeDefaultTemplate",[]).run(["$templateCache",function(a){a.put("su.datepicker.templates.suDatepickerRangeDefaultTemplate",'<div class=calendar-table><div class=container-fluid><div class=row><div class=col-xs-4><button class="btn btn-xs btn-primary previous" ng-click=moveMonth(-1) ng-disabled="previousMonthDisabled({currentDate: currentDateOne})">Previous</button></div><div class="col-xs-4 text-right"><button class="btn btn-xs btn-primary next" ng-click=moveMonth(1) ng-disabled="nextMonthDisabled({currentDate: currentDateTwo})">Next</button></div></div></div><div><div class="col-xs-4 text-center"><strong>{{currentDateOne.getMonth() | suDatepickerMonthText}}</strong></div><su-datepicker-month-default date=currentDateOne click-callback="onDateSelect({date: date})" date-disabled=isDateDisabled(date) custom-class="customClass({date: date})" cheap-mouseenter-callback="cheapMouseenterCallback({date: date})"></su-datepicker-month-default></div><div><div class="col-xs-4 text-center"><strong>{{currentDateTwo.getMonth() | suDatepickerMonthText}}</strong></div><su-datepicker-month-default date=currentDateTwo click-callback="onDateSelect({date: date})" date-disabled=isDateDisabled(date) custom-class="customClass({date: date})" cheap-mouseenter-callback="cheapMouseenterCallback({date: date})"></su-datepicker-month-default></div></div>')}])}();
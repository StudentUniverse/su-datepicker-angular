/**
* @license StudentUniverse su-datepicker 0.0.2
* (c) 2016 StudentUniverse https://www.studentuniverse.com
* License: ISC
**/
!function(){"use strict";function a(a){return{compile:function(b,c){var d="su-datepicker-cheap-event",e=c[c.$normalize(d)],f=d+"-"+e,g=a(c[c.$normalize(f)]);return function(a,b){b.on(e,function(b){g(a,{$event:b})})}}}}function b(a){var b=a("date");return{restrict:"A",require:"ngModel",link:function(a,c,d,e){var f=d.suDatepickerDateParser||"yyyy-MM-dd";e.$formatters.push(function(a){return b(a,f)})}}}function c(a){var b=a("suTimeNeutralDateCompare"),c=a("suDatepickerMonthText");return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"su.datepicker.templates.suDatepickerDefaultTemplate"},scope:{date:"=",isDateDisabled:"&",selectDate:"&",cheapMouseenterCallback:"&",customClass:"&",previousMonthDisabled:"&",nextMonthDisabled:"&",header:"&"},link:function(a,d,e){if(!e.hasOwnProperty("date"))throw"su.datepicker.directives.suDatepickerDefault: name attribute is required";var f,g=new Date;if(a.currentDate=m.copyDateOnly(a.date||new Date),e.hasOwnProperty("isDateDisabled")){var h=a.isDateDisabled;a.isDateDisabled=function(a){return h({date:a})}}else a.isDateDisabled=function(a){return e.hasOwnProperty(e.$normalize("disable-past"))?-1===b(a,g):!1};if(a.moveMonth=function(b){a.currentDate=m.changeMonth(a.currentDate,b)},e.hasOwnProperty("selectDate")){var i=a.selectDate;a.selectDate=function(a){return i({date:a})}}else a.selectDate=function(b){a.date=b};if(a.getDateClass=function(b){if(e.hasOwnProperty("customClass"))return a.customClass({date:b});if(angular.isDate(b)&&angular.isDate(a.date)){if(a.date.getFullYear()===b.getFullYear()&&a.date.getMonth()===b.getMonth()&&a.date.getDate()===b.getDate())return"active-date";if(f&&f.getFullYear()===b.getFullYear()&&f.getMonth()===b.getMonth()&&f.getDate()===b.getDate())return"potential-date"}},a.setPotentialDate=function(b){return e.hasOwnProperty("cheapMouseenterCallback")?a.cheapMouseenterCallback({date:b}):void(angular.isDate(b)&&(f=b,a.$digest()))},e.hasOwnProperty("header")){var j=a.header;a.header=function(a){return j({date:a})}}else a.header=function(a){if(angular.isDate(a)){var b=c(a.getMonth());return b+" "+a.getFullYear()}}}}}function d(){return{restrict:"E",scope:{date:"=",clickCallback:"&",dateDisabled:"&",customClass:"&",cheapMouseenterCallback:"&"},templateUrl:function(a,b){return b.templateUrl||"su.datepicker.templates.suDatepickerMonthDefaultTemplate"}}}function e(){return{restrict:"E",transclude:!0,scope:{date:"="},link:function(a,b,c,d,e){function f(b){a.weeks.length=0;var c=a.weeks,d=!0,e=0;return b.forEach(function(a){var b=a.getDay();(d||0===b)&&(c[e]=new Array(7),e++,d=!1),c[e-1][b]=a}),c}a.weeks=[],e(function(c,d){d.weeks=a.weeks,b.append(c)}),a.$watch("date",function(a){if(angular.isDate(a)){var b=m.getMonthDates(a.getFullYear(),a.getMonth());f(b)}})}}}function f(a){var b=a("suTimeNeutralDateCompare"),c=a("suDatepickerMonthText");return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"su.datepicker.templates.suDatepickerRangeDefaultTemplate"},scope:{startDate:"=",isDateDisabled:"&",onDateSelect:"&",cheapMouseenterCallback:"&",customClass:"&",previousMonthDisabled:"&",nextMonthDisabled:"&",header:"&"},link:function(a,d,e){if(!e.hasOwnProperty("startDate"))throw"su.datepicker.directives.suDatepickerRangeDefault: start-date attribute is required";var f=new Date;if(a.currentDateOne=m.copyDateOnly(a.startDate||new Date),a.currentDateTwo=m.changeMonth(a.currentDateOne,1),e.hasOwnProperty("isDateDisabled")){var g=a.isDateDisabled;a.isDateDisabled=function(a){return g({date:a})}}else a.isDateDisabled=function(a){return e.hasOwnProperty(e.$normalize("disable-past"))?-1===b(a,f):!1};if(a.moveMonth=function(b){a.currentDateOne=m.changeMonth(a.currentDateOne,b),a.currentDateTwo=m.changeMonth(a.currentDateOne,1)},e.hasOwnProperty("header")){var h=a.header;a.header=function(a){return h({date:a})}}else a.header=function(a){if(angular.isDate(a)){var b=c(a.getMonth());return b+" "+a.getFullYear()}}}}}function g(){var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(b){return"number"==typeof b&&b>=0&&12>b?a[b]:void 0}}function h(){return function(a,b){return angular.isDate(a)&&angular.isDate(b)?a.getFullYear()===b.getFullYear()?a.getMonth()===b.getMonth()?a.getDate()===b.getDate()?0:a.getDate()<b.getDate()?-1:1:a.getMonth()<b.getMonth()?-1:1:a.getFullYear()<b.getFullYear()?-1:1:void 0}}function i(a,b){var c=[];if("number"==typeof a&&"number"==typeof b)for(var d=l(a,b+1),e=1;d>=e;e++)c.push(new Date(a,b,e));return c}function j(a){var b=new Date(a);return b.setHours(0,0,0,0),b}function k(a,b){var c=j(a);return c.setDate(1),c.setMonth(c.getMonth()+b),c}function l(a,b){return new Date(a,b,0).getDate()}angular.module("su.datepicker.directives.suDatepickerCheapEventDirective",[]).directive("suDatepickerCheapEvent",a),a.$inject=["$parse"],angular.module("su.datepicker.directives.suDatepickerDateParserDirective",[]).directive("suDatepickerDateParser",b),b.$inject=["$filter"],angular.module("su.datepicker.directives.suDatepickerDefaultDirective",["su.datepicker.filters.suDatepickerMonthTextFilter","su.datepicker.filters.suTimeNeutralDateCompareFilter"]).directive("suDatepickerDefault",c),c.$inject=["$filter"],angular.module("su.datepicker.directives.suDatepickerDirectivesModule",["su.datepicker.directives.suDatepickerCheapEventDirective","su.datepicker.directives.suDatepickerDateParserDirective","su.datepicker.directives.suDatepickerDefaultDirective","su.datepicker.directives.suDatepickerMonthDefaultDirective","su.datepicker.directives.suDatepickerMonthDirective","su.datepicker.directives.suDatepickerRangeDefaultDirective"]),angular.module("su.datepicker.directives.suDatepickerMonthDefaultDirective",[]).directive("suDatepickerMonthDefault",d),d.$inject=[],angular.module("su.datepicker.directives.suDatepickerMonthDirective",[]).directive("suDatepickerMonth",e),e.$inject=[],angular.module("su.datepicker.directives.suDatepickerRangeDefaultDirective",["su.datepicker.filters.suTimeNeutralDateCompareFilter","su.datepicker.filters.suDatepickerMonthTextFilter"]).directive("suDatepickerRangeDefault",f),f.$inject=["$filter"],angular.module("su.datepicker.filters.suDatepickerFiltersModule",["su.datepicker.filters.suDatepickerMonthTextFilter","su.datepicker.filters.suTimeNeutralDateCompareFilter"]),angular.module("su.datepicker.filters.suDatepickerMonthTextFilter",[]).filter("suDatepickerMonthText",g),angular.module("su.datepicker.filters.suTimeNeutralDateCompareFilter",[]).filter("suTimeNeutralDateCompare",h),h.$inject=[],angular.module("su.datepicker",["su.datepicker.directives.suDatepickerDirectivesModule","su.datepicker.filters.suDatepickerFiltersModule","su.datepicker.templates.suDatepickerTemplatesModule"]);var m={getMonthDates:i,copyDateOnly:j,changeMonth:k};angular.module("su.datepicker.templates.suDatepickerTemplatesModule",["su.datepicker.templates.suDatepickerDefaultTemplate","su.datepicker.templates.suDatepickerMonthDefaultTemplate","su.datepicker.templates.suDatepickerRangeDefaultTemplate"]),angular.module("su.datepicker.templates.suDatepickerDefaultTemplate",[]).run(["$templateCache",function(a){a.put("su.datepicker.templates.suDatepickerDefaultTemplate",'<div class="datepicker datepicker-default"><div class="col-xs-4 back"><button class=previous tabindex=-1 ng-click=moveMonth(-1) ng-disabled="previousMonthDisabled({currentDate: currentDate})">&laquo;</button></div><div class="col-xs-4 month text-center"><strong ng-bind=header(currentDate)></strong></div><div class="col-xs-4 forward text-right"><button class=next tabindex=-1 ng-click=moveMonth(1) ng-disabled="nextMonthDisabled({currentDate: currentDate})">&raquo;</button></div><div><su-datepicker-month-default date=currentDate click-callback=selectDate(date) date-disabled=isDateDisabled(date) custom-class=getDateClass(date) cheap-mouseenter-callback=setPotentialDate(date)></su-datepicker-month-default></div></div>')}]),angular.module("su.datepicker.templates.suDatepickerMonthDefaultTemplate",[]).run(["$templateCache",function(a){a.put("su.datepicker.templates.suDatepickerMonthDefaultTemplate",'<su-datepicker-month date=date><table><thead><tr><th class=text-center>Sun</th><th class=text-center>Mon</th><th class=text-center>Tue</th><th class=text-center>Wed</th><th class=text-center>Thu</th><th class=text-center>Fri</th><th class=text-center>Sat</th></tr></thead><tbody><tr ng-repeat="week in weeks track by $index"><td ng-repeat="day in week track by $index" ng-class="customClass({date: day})" class=text-center><button class="btn btn-default btn-sm" tabindex=-1 ng-if=day style="width: 100%" ng-click="clickCallback({date: day})" su-datepicker-cheap-event=mouseenter su-datepicker-cheap-event-mouseenter="cheapMouseenterCallback({date: day})" ng-disabled="dateDisabled({date: day})" ng-bind=day.getDate()></button></td></tr></tbody></table></su-datepicker-month>')}]),angular.module("su.datepicker.templates.suDatepickerRangeDefaultTemplate",[]).run(["$templateCache",function(a){a.put("su.datepicker.templates.suDatepickerRangeDefaultTemplate",'<div class="datepicker datepicker-range"><div class=row><div class="col-xs-12 col-sm-6"><div class="col-xs-4 back"><button class=previous tabindex=-1 ng-click=moveMonth(-1) ng-disabled="previousMonthDisabled({currentDate: currentDateOne})">&laquo;</button></div><div class="col-xs-4 month text-center"><strong ng-bind=header(currentDateOne)></strong></div><div><su-datepicker-month-default date=currentDateOne click-callback="onDateSelect({date: date})" date-disabled=isDateDisabled(date) custom-class="customClass({date: date})" cheap-mouseenter-callback="cheapMouseenterCallback({date: date})"></su-datepicker-month-default></div></div><div class="col-xs-12 col-sm-6"><div class="col-xs-4 col-xs-offset-4 month text-center"><strong ng-bind=header(currentDateTwo)></strong></div><div class="col-xs-4 forward text-right"><button class=next tabindex=-1 ng-click=moveMonth(1) ng-disabled="nextMonthDisabled({currentDate: currentDateTwo})">&raquo;</button></div><div><su-datepicker-month-default date=currentDateTwo click-callback="onDateSelect({date: date})" date-disabled=isDateDisabled(date) custom-class="customClass({date: date})" cheap-mouseenter-callback="cheapMouseenterCallback({date: date})"></su-datepicker-month-default></div></div></div></div>')}])}();